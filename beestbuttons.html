<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A simple element creator to generate responsive code that can be easily embedded into Moodle">
    <meta name="author" content="T&M">
    <title>BEEST Buttons</title>
     <link rel="icon" href="https://mon-arts-ed-des.github.io/BEEST/dragon-solid%20favicon.png" type="image/gif">

    <!-- external link to css file --> 
    <!-- Bootstrap CSS -->   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Arts CSS -->  
    <link rel="stylesheet" href="https://mon-arts-ed-des.github.io/artsmoodlecode/adminPlusSetuBlockStyle.css" />
    
    <!-- external link to js file -->  
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="  https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  
    <!-- Bootstrap js file --> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- FontAwesome js file --> 
    <script src="https://kit.fontawesome.com/3817feae52.js"></script> 
    <!-- Tinymce js file -->   
    <script src='https://cloud.tinymce.com/stable/tinymce.min.js'></script>

    <script type="text/javascript">
    function generateBtnCode() {
        //Retrieve the content by id of the textareas
        var btn_URL = document.getElementById('btn_URL').value;
        var btn_text = document.getElementById('btn_text').value;
        var btnTarget = document.getElementById('buttonTarget').value;
        var btnAlign = document.getElementById('buttonAlign').value;
        var faIcon = document.getElementById('faCode').value;
        var bsColour = document.getElementById('btnColour').value;
        var iconNames = {
            "noI":"",
			      "1":"arrow-right",
            "2":"arrow-circle-o-right",
            "3":"external-link",
            "4":"hand-o-right",
            "5":"play",
            "6":"play-circle-o" 
             }
        var iconName = iconNames[faIcon];
		    var faIconCode = " <i class=\"fa fa-"+iconName+"\"></i>"
        var colourNames = {
			      "1":"mu",
            "2":"danger",
            "3":"warning",
            "4":"success",
            "5":"primary",
            "6":"info", 
            "7":"dark" 
             }
        var colourName = colourNames[bsColour];
		    var btnClrCode = "<a class=\"btn btn-"+colourName+" rounded btn-default m-1\" role=\"button\" href=\"";

        if (faIcon == "noI"){
          faIconCode = "";
        }
            
			if (btnAlign == "leftAlign"){ //broken up into two sequential conditional checks to do in stages
			textOutput = btnLeft;
		}
		else if (btnAlign == "centerAlign"){
			textOutput = btnCenter;
		}
		else{
			alert("alignment option chosen not covered by 'generateBtnCode()'") //to let us know if we add something and forget to change the code
		}
		
		//doing the below as a switch statement to show the approximate relationship between if and switch
		switch(btnTarget){
			case "sameWin": //the same as if btnTarget == "sameWin"
				textOutput += btnClrCode+btn_URL+btnSW_1+btn_text+faIconCode+btnSW_2;
			break;	//breaks stop the code in the 'case' moving into the next case (that's one way for multiple inputs to lead to the same result)
			case "newWin":
				textOutput += btnClrCode+btn_URL+btnNW_1+btn_text+faIconCode+btnNW_2;
			break;
			default:
				alert("button target option chosen not covered by 'generateBtnCode()'")
			break;
		}
        document.getElementById('txtareaBtn').innerHTML=textOutput;
        SelectAll("txtareaBtn");
        $('#demo').nextAll('div').remove();
        $('#demo').after(textOutput);
        }
        
        
    function SelectAll(id){
        document.getElementById(id).focus();
        document.getElementById(id).select();
        document.execCommand("copy");
        //window.alert('test');
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("showPopup");
    }

    function submitform()
    {
        document.forms["myform"].submit();
    }
    $(function () {
  $('[data-toggle="tooltip"]').tooltip()
})

    /* Variable Key
    These variables are pre-defined html that is added to inputs from users before and after to generate the final html product for copying and pasting.

    btnNW = btn open in new window
    btnSW = btn open in same window
  
    */
    var btnLeft="<div><p>"
    var btnCenter="<div class=\"text-center\"><p>"
    var btnNW_1="\" target=\"_blank\">"
    var btnNW_2="</a></p><p>(Opens in a new window)</p></div>"

    
    var btnSW_1="\">"
    var btnSW_2="</a></p></div>"

    </script>
    <style>
    .mce-notification-inner, .mce-close, .mce-notification-warning {
        display:none !important;
        }

        /* Popup container - can be anything you want */
    #popup {
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    }

    /* The actual popup */
    #popup .popuptext {
    visibility: hidden;
    width: 160px;
    background-color: #222222;
    color: #fff;
    text-align: left;
    border-radius: 6px;
    padding: 12px;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -80px;
    }

    /* Popup arrow */
    #popup .popuptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #222222 transparent transparent transparent;
    }

    /* Toggle this class - hide and show the popup */
    #popup .showPopup {
    -webkit-animation: fadeinout 3s linear  forwards;
    animation: fadeinout 3s linear forwards;
    visibility: visible;
    }

    /* Add animation (fade in the popup) */
@-webkit-keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

@keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

.tooltip-inner {
  text-align: left;
  padding: 15px;
  font-size: 1.05rem;
  max-width: 280px;
}
    </style> 
    </head>
    <body>
      <nav class="navbar navbar-expand-lg navbar-dark bg-arts mb-3">
        <a class="navbar-brand text-center border border-white p-2 rounded" href="home.html"><img src="dragon-solid-white.png" width="30" height="30" alt=""></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="home.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="beestvideo.html">Responsive Video</a>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="beestbuttons.html">Buttons</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="beestalerts.html">Alerts</a>
            </li>
               <li class="nav-item">
              <a class="nav-link" href="beestpollev.html">Poll Everywhere</a>
            </li>
               <li class="nav-item">
              <a class="nav-link" href="beestreadmore.html">Read More Button</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Accordions</a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="beestacc3.html">3 drawers</a>
                <a class="dropdown-item" href="beestacc4.html">4 drawers</a>
                <a class="dropdown-item" href="beestacc5.html">5 drawers</a>
                <a class="dropdown-item" href="beestacc6.html">6 drawers</a>
              </div>
            </li>
          </ul>
        </div>
      </nav>
        <div class="container-fluid">
          <div class="w-100 mx-auto alert alert-arts alert-dismissible fade show rounded" role="alert">
            <div class="h6"><i class="fa fa-fw fa-2x fa-pull-left fa-exclamation-circle"></i>You can use buttons to make links 'stand out' to students. But be careful to keep your design consistent. If buttons are all different colours it can become confusing for the student. External links outside of Moodle should <strong>always</strong> open in a new window. If it's a link that opens within your Moodle site, we recommend you open it in the same window, unless students are 'jumping out' of one activity and into another activity or resource. Think about the pathway students are taking when making the choice of where to open the link.</div>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">Ã—</span> </button>
            </div>
            <h1 class="text-center"><i class="fa fa-fw fa-play-circle-o"></i> Buttons</h1>
            <h5>The result of this process</h5>
        <p>This process will generate a coloured button element with a link to a URL of your choice.</p>
            <h5>How to use this page</h5>
        <p>If you hover your mouse over the headings for the steps on this page instructions will appear. Once you have generated and copied the code for your element paste them into Moodle using the HTML editor. If you are not familiar with pasting HTML in Moodle, <a data-toggle="modal" data-target=".html-video" href=".html-video">this short video will help</a> (it will open in an overlay on this screen).</p>
        <div class="modal fade html-video" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content p-2">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">To close this window click the button on the right or anywhere outside this box.</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            <div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen" src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=d1c0ffaa-23a4-4d38-bb49-abda00b7805a"></iframe></div>
            </div>
          </div>
          </div>
        <h5>Refresh this page</h5>
  <div class="row w-100">
    <div class="col-lg">
  <p>Click this button to refresh this page if you make an error, or if you are making multiple elements and have already pasted your previous elements.</p></div>
  <div class="col-lg-3"><div class="text-center">
    <a href="javascript:window.location.reload()" class="btn btn-mu">Refresh the page <i class="fa fa-fw fa-refresh"></i></a>
  </div></div></div>
  <hr class="hr-3">
           <form id="btn">           
        <div class="row w-100 mx-auto mt-2">
        <div class="col-lg-8">
          <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Paste in the link/URL for the button below. This is where users will be directed to when clicking the button.">Step 1 - Paste URL</h5>
           <textarea class="border border-dark rounded p-2 w-100" rows="1" id="btn_URL" name="btn_URL" placeholder="Paste the URL here"></textarea>
            </div>
          </div>
          <div class="row w-100 mx-auto mt-2">
            <div class="col-lg-8">
              <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Write the text that will appear on the button. This space is limited to 30 characters.">Step 2 - Button text</h5>
              <textarea maxlength="30" class="border border-dark rounded p-2 w-100" cols="70" rows="1" id="btn_text" name="btn_text" placeholder="Button text here. 30 character maximum"></textarea>
            </div>
          </div>
          <div class="row w-100 mx-auto mt-2">
            <div class="col-lg-8">
              <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="If you would like an icon to the right of your button text, choose one from this list. The default is no icon.">Step 3 - Choose icon</h5>
              <select class="custom-select w-50 border border-dark" id="faCode" name="faCode">
                <option selected value="noI">No icon</option>
                <option value="1">Arrow right</option>
                <option value="2">Arrow right in a circle</option>
                <option value="3">External link square</option>
                <option value="4">Finger pointing right</option>
                <option value="5">Play</option>
                <option value="6">Play in a circle</option>
              </select>
                </div>
              </div>
              <div class="row w-100 mx-auto">
                <div class="col-lg-8 mt-2">
          <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Choose the colour of your button. Monash blue is selected by default.">Step 4 - Select button colour</h5>
          <select class="custom-select w-50 border border-dark" id="btnColour" name="btnColour">
              <option class="h5 bg-mu text-white" selected value="1">Monash blue</option>
              <option class="h5 bg-danger text-white" value="2">Red</option>
              <option class="h5 bg-warning text-dark" value="3">Yellow</option>
              <option class="h5 bg-success text-white" value="4">Green</option>
              <option class="h5 bg-primary text-white" value="5">Dark blue</option>
              <option class="h5 bg-info text-white" value="6">Light blue</option>
              <option class="h5 bg-dark text-white" value="7">Black</option>
            </select>
          </div>
          </div>
          <div class="row w-100 mx-auto mt-2">
        <div class="col-lg-8">
          <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Choose whether to open link in a new window, or the same window users are on. New window is chosen by default.">Step 5 - New/Same window</h5>
          <select class="custom-select w-50 border border-dark" id="buttonTarget" name="buttonTarget" size="1">
            <option selected value="newWin">New window</option>
             <option value="sameWin">Same window</option>               
          </select>
            </div>
          </div>    
          <div class="row w-100 mx-auto mt-2">
            <div class="col-lg-8">
              <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Choose whether the button is left or centre-aligned. Left-align is chosen by default.">Step 6 - Left/Centre align</h5>
              <select class="custom-select w-50 border border-dark" id="buttonAlign" name="buttonAlign" size="1">
                <option selected value="leftAlign">Left align button</option>
                 <option value="centerAlign">Center align button</option>               
              </select>
                </div>           
               </div> 
               <div class="row w-100 mx-auto mt-2">
                <div class="col-lg-8">
                <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="focus hover" title="Click this button to generate and copy the code for your element ready for pasting in Moodle. A preview of the element will appear under Step 8.">Step 7 - Generate/copy code</h5>
                <p id="popup"><span class="popuptext" id="myPopup">Your code has been copied</span><input class="btn btn-arts m-2" name="GenerateWrap" value="Generate Code </>" OnClick=generateBtnCode() ></p>
                <textarea readonly class="rounded p-2 w-100 border border-dark" id="txtareaBtn" cols="70" rows="2" name="Result" placeholder="Code for your element will appear here"></textarea>
            </div>
            </div>
            <div class="row w-100 mx-auto mt-2">
              <div class="col-lg">
              <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="A preview of your element will appear below when you click the generate code button in Step 7.">Step 8 - Preview</h5>
              <div id="demo">
              </div>
         </div>
         
            </div>
        </form>        
        <script>
          $('#btn_URL').on('input', function(event) {
          var s = $('#btn_URL').val().toString();
          
          if (s.includes("https://") == true)
          {
          //do nothing if match to 'https'
          }
          else if (s.includes("http://") == true) {
          //do nothing if match to 'http'
          }
          //if not, add 'http'
          else {
            s = "http://" + s;
          }
      
          $('#btn_URL').val(s);
          $('input[type="text"], #btn_URL').attr('readonly','readonly');
        }); 
        </script>
        </body>
        </html>
