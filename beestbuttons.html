<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A simple element creator to generate responsive code that can be easily embedded into Moodle">
    <meta name="author" content="T&M">
    <title>BEEST Buttons</title>
     <link rel="icon" href="https://mon-arts-ed-des.github.io/BEEST/dragon-solid%20favicon.png" type="image/gif">

    <!-- external link to css file --> 
    <!-- Bootstrap CSS -->   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Arts CSS -->  
    <link rel="stylesheet" href="https://mon-arts-ed-des.github.io/artsmoodlecode/adminPlusSetuBlockStyle.css" />
    
    <!-- external link to js file -->  
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="  https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  
    <!-- Bootstrap js file --> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- FontAwesome js file --> 
    <script src="https://kit.fontawesome.com/3817feae52.js"></script> 
    <!-- Tinymce js file -->   
    <script src='https://cloud.tinymce.com/stable/tinymce.min.js'></script>

    <script type="text/javascript">
    function generateBtnCode() {
        //Retrieve the content by id of the textareas
        var btn_URL = document.getElementById('btn_URL').value;
        var btn_text = document.getElementById('btn_text').value;
        var btnTarget = document.getElementById('buttonTarget').value;
    

        if (btnTarget == "sameWin"){
            var textOutput = btnSW_1+btn_URL+btnSW_2+btn_text+btnSW_3;
        }
        else if (btnTarget == "newWin"){
            var textOutput = btnNW_1+btn_URL+btnNW_2+btn_text+btnNW_3;
        }

        document.getElementById('txtareaBtn').innerHTML=textOutput;
        SelectAll("txtareaBtn");
      
        $('#demo').after(textOutput);
        }
        
        
    function SelectAll(id){
        document.getElementById(id).focus();
        document.getElementById(id).select();
        document.execCommand("copy");
        //window.alert('test');
    }

    function submitform()
    {
        document.forms["myform"].submit();
    }
    $(function () {
  $('[data-toggle="tooltip"]').tooltip()
})
    /* Variable Key
    These variables are pre-defined html that is added to inputs from users before and after to generate the final html product for copying and pasting.

    btnNW = btn open in new window
    btnSW = btn open in same window
  
    */
    var btnNW_1="<p class=\"text-center mb-0\"><a class=\"btn btn-arts m-2\" target=\"_blank\" href=\""
    var btnNW_2="\">"
    var btnNW_3=" <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></a></p><p class=\"text-center\">(Opens in a new window)</p>"
    
    var btnSW_1="<p class=\"text-center mb-0\"><a class=\"btn btn-arts m-2\" href=\""
    var btnSW_2="\">"
    var btnSW_3=" <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></a></p>"
    </script>
    <style>
    .mce-notification-inner, .mce-close, .mce-notification-warning {
        display:none !important;
        }

        /* Popup container - can be anything you want */
    #popup {
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    }

    /* The actual popup */
    #popup .popuptext {
    visibility: hidden;
    width: 160px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 8px 0;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -80px;
    }

    /* Popup arrow */
    #popup .popuptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
    }

    /* Toggle this class - hide and show the popup */
    #popup .showPopup {
    -webkit-animation: fadeinout 3s linear  forwards;
    animation: fadeinout 3s linear forwards;
    visibility: visible;
    }

    /* Add animation (fade in the popup) */
@-webkit-keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

@keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

.tooltip-inner {
  text-align: left;
  padding: 15px;
  font-size: 1.05rem;
  max-width: 280px;
}
    </style> 
    </head>
    <body>
      <nav class="navbar navbar-expand-lg navbar-dark bg-arts mb-3">
        <a class="navbar-brand" href="home.html">BEEST</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="home.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Buttons</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="beestbuttons.html">Single buttons</a>
                <a class="dropdown-item" href="beesttwobuttons.html">Two buttons</a>
                </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Alerts</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink1">
                <a class="dropdown-item" href="beestalerts.html">Normal alerts</a>
                <a class="dropdown-item" href="beestdmalerts.html">Dismissable alerts</a>
                </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="beestvideo.html">Responsive Video</a>
            </li>
               <li class="nav-item">
              <a class="nav-link" href="beestpollev.html">Poll Everywhere</a>
            </li>
               <li class="nav-item">
              <a class="nav-link" href="beestreadmore.html">Read More Button</a>
            </li>
          </ul>
        </div>
      </nav>
        <div class="container-fluid">
            <h1 class="text-center"><i class="fa fa-fw fa-external-link"></i> Monash button</h1>
        <p>This process will generate a Monash blue button element with a link to a URL. To complete this process you need to copy the link you want in the button, write the text that will appear on the button and choose whether the button will open in the same window it is located in, or open the link in a new tab. Head to the demo page to see how this element works if you are unsure. If you are not familiar with using HTML in Moodle, please watch this short video (opens in a popup window on this page) to see how to paste the HTML you create here into Moodle.</p>
            <p><strong>E.g.</strong> https://google.com or https://lms.monash.edu | <strong>If you do not include the https:// or http:// prefix your button will not work correctly.</strong></p>
           <form id="btn">           
        <div class="row w-100 mx-auto text-center">
        <div class="col-lg">
          <h5 data-toggle="tooltip" data-placement="top" data-trigger="hover focus" title="Paste in the link/URL for the button below. This is where users will be directed to when clicking the button."><i class="fa fa-fw fa-link"></i> Step 1 - Paste URL</h5>
           <p><textarea class="rounded p-2 w-100" rows="1" id="btn_URL" name="btn_URL" placeholder="Write/paste the URL here"></textarea></p>
            </div>
            <div class="col-lg">
              <h5 data-toggle="tooltip" data-placement="top" data-trigger="hover focus" title="Write the text that will appear on the button. This space is limited to 30 characters."><i class="fa fa-fw fa-pencil"></i> Step 2 - Button text</h5>
              <textarea maxlength="30" class="mb-3 rounded p-2 w-100" cols="70" rows="1" id="btn_text" name="btn_text" placeholder="Button text here. 30 character maximum"></textarea>
            </div>
        <div class="col-lg">
          <h5 data-toggle="tooltip" data-placement="top" data-trigger="hover focus" title="Choose whether to open link in a new window, or the same window users are on. New window is chosen by default."><i class="fa fa-fw fa-question-circle-o"></i> Step 3 - New/Same window</h5>
          <select class="form-control w-75 mx-auto" id="buttonTarget" name="buttonTarget" size="2">
            <option selected value="newWin">New window</option>
             <option value="sameWin">Same window</option>               
          </select>
            </div>             
               </div> 
               <div class="row w-100 text-center mt-3">
               <div class="col-lg">
                <h5 data-toggle="tooltip" data-placement="top" data-trigger="focus hover" title="Click this button to generate and copy the code for your element ready for pasting in Moodle. A preview of the element will appear under Step 5."><i class="fa fa-fw fa-code"></i> Step 4 - Generate/copy code</h5>
                <div class="text-center"><input data-toggle="tooltip" data-placement="top" data-trigger="click" title="Your code has been generated and copied." type="button" class="btn btn-arts m-2" name="GenerateWrap" value="Generate Code </>" OnClick=generateBtnCode()></p>
                <textarea readonly class="rounded p-2 w-100" id="txtareaBtn" cols="70" rows="3" name="Result" placeholder="Code for your element will appear here"></textarea></div>
            </div>
            <div class="col-lg">
              <h5 data-toggle="tooltip" data-placement="top" data-trigger="hover focus" title="A preview of your element will appear below when you click the generate code button in Step 4."><i class="fa fa-fw fa-eye"></i> Step 5 - Preview</h5>
              <div id="demo">
              </div>
         </div>
         <div class="col-lg">
          <h5 data-toggle="tooltip" data-placement="top" data-trigger="hover focus" title="Click this button to refresh the page to create another element."><i class="fa fa-fw fa-refresh"></i> Step 6 - Refresh page</h5>
             <div class="text-center">
          <a href="javascript:window.location.reload()" class="btn btn-mu">Refresh the page <i class="fa fa-fw fa-refresh"></i></a>
        </div>
        </div>
            </div>
        </form>        
        <script>
          $('#btn_URL').on('input', function(event) {
          var s = $('#btn_URL').val().toString();
          
          if (s.includes("https://") == true)
          {
          //do nothing if match to 'https'
          }
          else if (s.includes("http://") == true) {
          //do nothing if match to 'http'
          }
          //if not, add 'http'
          else {
            s = "http://" + s;
          }
      
          $('#btn_URL').val(s);
          $('input[type="text"], #btn_URL').attr('readonly','readonly');
        }); 
        </script>
        </body>
        </html>
