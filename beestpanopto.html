<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A simple element creator to generate responsive code that can be easily embbedded into Moodle">
    <meta name="author" content="T&M">
    <title>Element Creator</title>

    <!-- external link to css file --> 
    <!-- Bootstrap CSS -->   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Arts CSS -->  
    <link rel="stylesheet" href="https://mon-arts-ed-des.github.io/artsmoodlecode/adminPlusSetuBlockStyle.css" />
    
    <!-- external link to js file -->  
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!-- Bootstrap js file --> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- FontAwesome js file --> 
    <script src="https://kit.fontawesome.com/3817feae52.js"></script> 
    <!-- Tinymce js file -->   
    <script src='https://cloud.tinymce.com/stable/tinymce.min.js'></script>

    <script type="text/javascript">
      tinymce.init({
        selector: '#tinyMCEvideo',
        menubar: false,
          plugins : 'advlist autolink link lists charmap print preview' 
      });
        tinymce.init({
        selector: '#tinyMCEyt',
        menubar: false,
          plugins : 'advlist autolink link lists charmap print preview'  
      });
    
/*Function to generate and copy code for the responsive videos*/
    function generateCode() {
        // Get the HTML contents of the currently active editor
        console.debug(tinyMCE.activeEditor.getContent());

        //Retrieve the content by id of the tinyMCE textarea
        var contextCode = tinyMCE.get('tinyMCEvideo').getContent();
        var respLink = document.getElementById('respPVRswitch').value;
        var vPosition = document.getElementById('videoPosition').value;

        //window.alert(vPosition);

        if (vPosition == "left"){
            var textOutput = respPVR_1+respPVR_2r+respLink+respPVR_3r+respPVR_4+contextCode+respPVR_5;
        }
        else if (vPosition == "right"){
            var textOutput = respPVR_1+contextCode+respPVR_2+respLink+respPVR_3;
        }

        document.getElementById('txtarearespPVR').innerHTML=textOutput;
        SelectAll("txtarearespPVR");
        }
   /*Function to generate and copy code for the alert*/
    function generateAlertCode() {
        // Get the HTML contents of the currently active editor
        console.debug(tinyMCE.activeEditor.getContent());

        //Retrieve the content by id of the tinyMCE textarea
        var alertCode = tinyMCE.get('tinyMCEalert').getContent();
        var textOutput1 = monAlert_1+alertCode+monAlert_2;
        document.getElementById('monAlertCode').innerHTML=textOutput1;
        SelectAll("monAlertCode");
        }

    function SelectAll(id){
        document.getElementById(id).focus();
        document.getElementById(id).select();
        document.execCommand("copy");

        var popup = document.getElementById("myPopup");
        popup.classList.toggle("showPopup");
        //window.alert('test');
    }

    function submitform()
    {
        document.forms["myform"].submit();
    }
    /* Variable Key
    These variables are pre-defined html that is added to inputs from users before and after to generate the final html product for copying and pasting.

    btnNW = btn open in new window
    btnSW = btn open in same window
    respPVR = responsive Panopto Video Right (context left/video right)
    respPVL = responsive Panopto Video Left (video left/context right)
    artsAlert = Monash blue box alert similar to Bootstrap alert component
    artsAcc = Monash blue accordion headings and content
    */
    var btnNW_1="<p class=\"text-center mb-0\"><a class=\"btn btn-arts m-2\" target=\"_blank\" href=\""
    var btnNW_2="\">"
    var btnNW_3=" <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></a></p>"
    var btnSW_1="<p class=\"text-center mb-0\"><a class=\"btn btn-arts m-2\" href=\""
    var btnSW_2="\">"
    var btnSW_3=" <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></a></p>"

    var respPVR_1="<div class=\"row w-100\"><div class=\"col-lg\">"
    var respPVR_2="</div><div class=\"col-lg\"><div class=\"embed-responsive embed-responsive-16by9\"><iframe class=\"embed-responsive-item\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\" src=\""
    var respPVR_2r="<div class=\"embed-responsive embed-responsive-16by9\"><iframe class=\"embed-responsive-item\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\" src=\""
    var respPVR_3="\"></iframe></div></div></div>"
    var respPVR_3r="\"></iframe></div></div>"
    var respPVR_4="<div class=\"col-lg mt-2\">"
    var respPVR_5="</div></div>"

    var monAlert_1="<div class=\"alert alert-arts rounded\"><div class=\"mb-0\">"
    var monAlert_2="</div>"
    var QT_1="<div style=\"margin: 50px 15% 50px 15%; background-color:"
    var QT_2=";\"><div style=\"position: relative; top: -20px; left: -20px; padding: 20px; background: #ffffff; border: 2px solid "
    var QT_3=";\"><p>"
    var QT_4="</p></div></div>"

    var QT_3_1=";\"><p style=\"font-style: italic;\">"
    var QT_3_2="</p><p style=\"text-align: right;\">"

    var A_1="<div class=\"element_toggler\" style=\"background-color:#eff7ff; border: 1px solid #cccccc; padding:10px; margin:10px;\" aria-controls=\""
    var A_2="\" aria-expanded=\"no\" aria-label=\"Toggler toggle list visibility\" role=\"button\"><i class=\"icon-mini-arrow-down\"></i>" 
    var A_3="</div><div id=\""
    var A_4="\" style=\"display: none; padding:10px; margin:10px;\">"
    var A_5="</div><div class=\"hidden-desktop hidden-phone hidden-tablet no-print\" style=\"padding:10px; margin:10px;\">"
    var A_6="</div>"
    </script>
       <style>
        .mce-notification-inner, .mce-close, .mce-notification-warning {
        display:none !important;
        }

        /* Popup container - can be anything you want */
    #popup {
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    }

    /* The actual popup */
    #popup .popuptext {
    visibility: hidden;
    width: 220px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 10px 5px;
    position: absolute;
    z-index: 1;
    bottom:100%;
    left: 50%;
    margin-left: -110px;
    }

    /* Popup arrow */
    #popup .popuptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
    }

    /* Toggle this class - hide and show the popup */
    #popup .showPopup {
    -webkit-animation: fadeinout 4s linear forwards;
    animation: fadeinout 4s linear forwards;
    visibility: visible;
    }
  
    /* Add animation (fade in the popup) */
@-webkit-keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

@keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

    </style> 
    </head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-arts mb-3">
  <a class="navbar-brand" href="#">BEEST</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="https://web.edusercontent.com/37rr142h0egk1dv4g41rultpro/beesthome.html">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://web.edusercontent.com/4933n8d4mjts04ojtr7g7jbin4/beestbuttons.html">Buttons</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://web.edusercontent.com/4933n8d4mjts04ojtr7g7jbin4/beestalerts.html">Alerts
        </a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Responsive video
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" href="https://web.edusercontent.com/37rr142h0egk1dv4g41rultpro/beestpanopto.html">Panopto</a>
          <a class="dropdown-item" href="https://web.edusercontent.com/37rr142h0egk1dv4g41rultpro/beestyoutube.html">Youtube</a>
          <a class="dropdown-item" href="https://web.edusercontent.com/37rr142h0egk1dv4g41rultpro/beestvimeo.html">Vimeo</a>
        </div>
      </li>
    </ul>
  </div>
</nav>
<div class="container-fluid">
    <div class="alert alert-arts h5">Important: You can only generate the code for one element at a time on this page. If you need more elements, copy and paste each element into Moodle, return to this page and create your next element. Watch the video below for a walkthrough of how to use the page effectively.</div>
    <div class="col-lg">
<h3 class="text-center">Responsive Panopto video + context</h3>
    <p>This process will create some text on the left which is the context for your video (explained below), and a responsive video on the right. Responsive video changes size as the screen changes size and when the screen gets small enough, this process will 'collapse' the video underneath the text.</p>
    <h3><i class="fa fa-flag-checkered"></i> The result</h3>
        <p>The end result will be similar to the below example. This will vary depending on the heading level you use, whether you use a list and add other text elements in your context. Try resizing your screen to see how the video and text rearrange, and video resizes to be a more appropriate size for the device you're on. The Font Awesome icons used here will need to be input by the user. Some suggestions for videos are below. The square brackets code is what you will input into the rich text editor. Once pasted into Moodle and saved, it will look like the example given to the right of the square brackets.</p>
        <ul>
            <li>[fa-video-camera] - <i class="fa fa-video-camera" aria-hidden="true"></i></li>
            <li>[fa-play] - <i class="fa fa-play" aria-hidden="true"></i></li>
            <li>[fa-youtube-play] - <i class="fa fa-youtube-play" aria-hidden="true"></i></li>
        </ul>
<!-- Read More Toggle -->
<p>Click the button below to toggle an example of the result with the video on the right.</p>
<div class="collapse" id="readMore1">
<div class="w-100 mx-auto border-arts-3 rounded p-3 m-2">
<div class="row w-100">
    <div class="col-lg">
    <h5><i class="fa fa-video-camera"></i> Placeholder Video</h5>
    <p>This video you'll see here is what's called a 'placeholder' video. This is useful to have when you want to do the following:</p>
    <ul>
        <li>make a space to put a content video at a later stage.</li>
        <li>explain how to manipulate video into a certain format</li>
    </ul>
        <p>Click play and watch the 7 seconds of silent magic!</p>
    </div>
    <div class="col-lg">
        <div class="embed-responsive embed-responsive-16by9">
        <iframe src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=5d23c190-f6c6-405d-968b-abab0095e7a4" class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen"></iframe>
        </div>
    </div>
</div>
</div>
</div>
<div><a class="btn btn-arts btn-block w-50 mx-auto" data-toggle="collapse" href="#readMore1" role="button" aria-expanded="false" aria-controls="collapseExample">Show/Hide the result</a></div>
<!-- End of Read More Toggle -->
<hr>
</div>
<form id="respPVR">   
<div class="row w-100 mx-auto">
    <div class="col-lg">
    <h5 class="mt-3">Step 1 - Write the context for your video</h5>
        <p>It's recommended to have a few sentences or dot points explaining what is in the video students are about to watch. This helps in particular when students are looking back through your site for a specific video where you addressed certain concepts or theories. Instead of watching the entire video, they can read the context you've provided, and make a decision on whether to watch the entire video.</p>
        <p>Below is a rich-text editor like you would expect to see in Moodle. You can add formatting such as headings, bold, italics, links and lists to your context and it will be replicated in the final code.</p>
        <textarea id="tinyMCEvideo" class="border border-dark rounded p-2 w-100 mt-3" cols="70" rows="10" name="respPVR_context" placeholder="Write the context for your video here"></textarea>
        <h5 class="mt-3">Step 2 - Paste the Panopto link for your video</h5>
        <p>Paste in the link (not the embed code) for the Panopto video. When you paste the link into this box it will automatically change the link to be the embed link required for this process to work and you will not be able to edit this box. If you paste the embed code from Panopto it will not work correctly.</p>
        <div class="alert alert-arts rounded mx-auto w-50 p-2">
            <div class="text-center"><i class="fa fa-exclamation-circle fa-fw fa-3x m-0"></i></div><p class="my-1 text-center h5">If you paste the wrong link, you will need to refresh the page and start again.</p></div>
        <p class="text-center"><textarea class="rounded p-2 w-100" rows="1" name="respPVR_link" type="text" id="respPVRswitch" placeholder="Paste the Panopto video link here"></textarea></p>
        <h5 class="mt-3">Step 3 - Select the video position</h5>
        <p>Choose which side of screen you would prefer the video to appear by clicking on one of the options below. <strong>Video on the left</strong> is selected by default.</p>
            <select class="form-control w-50 mx-auto" id="videoPosition" name="videoPosition" size="2">
              <option value="left" selected>Video on the left</option>
              <option value="right">Video on the right</option>
            </select>
            </div>         
            </div>
            <div class="col-lg">
    <h5 class="text-left mt-3">Step 4 - Click to generate and copy code</h5>
                <div class="text-center">
            <p id="popup"> <span class="popuptext" id="myPopup">Your code has been copied</span><input type="button" class="btn btn-arts m-3" name="GenerateWrap" value="Generate and copy code" onClick=generateCode()></p>
            <p class="text-center"><textarea readonly class="rounded p-2 w-100" id="txtarearespPVR" cols="70" rows="5" name="Result" placeholder="When you click the button above, it will combine your context and video into a responsive format and copy the code to your clipboard."></textarea></p>
            </div>
            </div>   
        </form>
        <script>//code for converting Panopto link from Viewer to Embed
        $('#respPVRswitch').on('input', function(event) {
        var s = $('#respPVRswitch').val().toString();
        var x = s.replace('Viewer','Embed');
        $('#respPVRswitch').val(x);
        $('input[type="text"], textarea').attr('readonly','readonly');
      }); 
      </script>
        </body>
        </html>
