<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-152392632-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-152392632-3');
</script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A simple element creator to generate responsive code that can be easily embbedded into Moodle">
    <meta name="author" content="T&M">
    <title>BEEST Video</title>
     <link rel="icon" href="img/dragon-solid-favicon.png" type="image/gif">
    <!-- external link to css file --> 
    <!-- Bootstrap CSS -->   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
    <!-- Arts CSS -->  
    <link rel="stylesheet" href="css/adminPlusSetuBlockStyle.css" />
    <link rel="stylesheet" href="css/monashElements.css" />
    <!-- external link to js file -->  
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="  https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <!-- Bootstrap js file --> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- FontAwesome js file --> 
    <script src="https://kit.fontawesome.com/3817feae52.js"></script> 
    <!-- Tinymce js file -->   
    <script src='https://cloud.tinymce.com/stable/tinymce.min.js'></script>
    <script src="js/advancedModeLocalStorage.js"></script>
    <!-- TinyMCE placeholder plugin file -->
    <script src="js/placeholder.js"></script> 
    <!-- Script to init the tinyMCE editor --> 
    <script type="text/javascript">
        tinymce.init({
        selector: '#tinyMCEvideo',
        menubar: false,
        plugins : 'advlist autolink link lists charmap print preview code placeholder',
        placeholder:'[Placeholder for video context]',
        toolbar: 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | autolink link |lists | charmap | code | removeformat',  
        setup : function(ed) {      
        ed.on('change', function (e) {	
          generateCode();
          });					
        }
      });

      function writeinMoodle() {
      tinyMCE.get('#id_introeditor').setContent(textOutput);
       }
    
      function iconpreview() {
        var faIcon = document.getElementById('faCode').value;
        var iconNames = {
			      "1":"video-camera",
            "2":"play",
            "3":"eye" 
        }

        var iconName = iconNames[faIcon];
	     	var faIconCode = "<i id=\"icon\" class=\"fa fa-"+iconName+"\"></i> ";
		
        if (faIcon == "noI"){
          faIconCode = "";
          if (document.getElementById("icon"))
           {
            var icon = document.getElementById("icon");
            icon.parentNode.removeChild(icon);
            var iconpreview = document.getElementById("iconpreview");
            iconpreview.style.display = "none";
           }
        }

        else{
          if (document.getElementById("icon"))
          {
            var icon = document.getElementById("icon");
            icon.parentNode.removeChild(icon);
          }

        var code = document.createElement("span");
        code.innerHTML = faIconCode;
        var iconpreview = document.getElementById("iconpreview");
        iconpreview.style.display = "block";
        iconpreview.parentNode.insertBefore(code,iconpreview.nextSibling);
        }
        generateCode();
      }
	
    /*Function to generate and copy code for the responsive videos*/
    function generateCode() {
        // Get the HTML contents of the currently active editor
        console.debug(tinyMCE.activeEditor.getContent());

        //Retrieve the content by id of the tinyMCE textarea
        var contextCode = tinyMCE.get('tinyMCEvideo').getContent();

        if (tinyMCE.get('tinyMCEvideo').getContent() !== ""){
        contextCode = tinyMCE.get('tinyMCEvideo').getContent();
        }
        else{
        contextCode = "[Placeholder for video context. The content you entered in step 2 will appear here.]";
        }

        var vidHeading = document.getElementById('respVidHeading').value;
        var respLink = document.getElementById('respVidSwitch').value;
        var vPosition = document.getElementById('videoPosition').value;
        var vWidth = document.getElementById('videoWidth').value;
        var headSize = document.getElementById('headSize').value;
        var faIcon = document.getElementById('faCode').value;

        var rowOpen="<div class=\"row w-100\">"
        var firstCol="<div class=\"col-lg\" id=\"video-context\">"
        var firstCol4="<div class=\"col-lg-4\">"
        var secCol="<div class=\"col-lg mt-2\" id=\"vidwidth50\">"
        var secCol4="<div class=\"col-lg-4 mt-2\" id=\"vidwidth33\">"
        var closeCol="</div>"
        var closeRow="</div></div>"
        
        if (respLink == ""){
          respLink = "https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=5d23c190-f6c6-405d-968b-abab0095e7a4";
        }

        var respVid="<div class=\"embed-responsive embed-responsive-16by9\"><iframe class=\"embed-responsive-item\" frameborder=\"0\" allowfullscreen=\"\" src=\""+respLink+"\"></iframe></div>"
        var respVidYT="<div class=\"embed-responsive embed-responsive-16by9\"><iframe class=\"embed-responsive-item\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen src=\""+respLink+"\"></iframe></div>"
        var iconNames = {
			      "1":"video-camera",
            "2":"play",
            "3":"eye" 
        }

        var iconName = iconNames[faIcon];
    		var faIconCode = "<i class=\"fa fa-"+iconName+"\"></i> ";
		
        if (faIcon == "noI"){
          faIconCode = "";
        }
		
        var resizedHead;

        if(vidHeading == ""){
          resizedHead = "";
        }
        else{
            //Resizing the heading text
			var headingMap = {
				"noH":{head:"",icon:"",val:"",end:""},
				"h3":{head:"<h3>",icon:faIconCode,val:vidHeading,end:"</h3>"},
				"h4":{head:"<h4>",icon:faIconCode,val:vidHeading,end:"</h4>"},
				"h5":{head:"<h5>",icon:faIconCode,val:vidHeading,end:"</h5>"}
			}
			var opt = headingMap[headSize]
			resizedHead = opt.head+opt.icon+opt.val+opt.end
        }

        //Change size of column if requested
        if (vWidth == "33" && vPosition == "left"){
          firstCol=firstCol4;
        }
        else if (vWidth == "33" && vPosition== "right"){
          secCol=secCol4;
        }
        $("#respVidSwitch").each(function() {
        if ($('this:contains("youtu")')){
          respVid=respVidYT;
          }
        });
    
        //Change position of video and order of output
		var textOutput = resizedHead+rowOpen+firstCol
        if (vPosition == "left"){
            textOutput += respVid+closeCol+secCol+contextCode;
        }
        else if (vPosition == "right"){
            textOutput += contextCode+closeCol+secCol+respVid;
        }
		textOutput+= closeRow
       
       
        document.getElementById('txtarearespVid').innerHTML=textOutput;
        //SelectAll("txtarearespVid");
         //Add the html code after the div
        var demoDiv = document.getElementById("demo");
        demoDiv.innerHTML = textOutput;
        }

    function recoverCode(){
        //Get the code from Step 0
        var retrieveCode = document.getElementById('retrieveCode').value;
        var videoContext = $(retrieveCode).find('#video-context').text();
        if (videoContext){
        tinyMCE.get('tinyMCEvideo').setContent(videoContext);
        }

        var videoLink = $(retrieveCode).find('.embed-responsive-item').attr('src');
        if (videoLink){
        document.getElementById('respVidSwitch').value = videoLink;
        }

        var vidHeading = $(retrieveCode).closest('h5').text();
        if (vidHeading){
        document.getElementById('respVidHeading').value = vidHeading;
        }

        //set heading size
        if ($(retrieveCode).closest('h3')){
          document.getElementById('headSize').value = "h3";
        }
        else if ($(retrieveCode).closest('h4')){
          document.getElementById('headSize').value = "h4";
        }
        else if ($(retrieveCode).closest('h5')){
          document.getElementById('headSize').value = "h5";
        }

        //set icon
        var headingIcon = $(retrieveCode).find('i').attr('class');
        if (headingIcon == "fa fa-video-camera"){
          document.getElementById('faCode').value = 1;
        }
        else if (headingIcon == "fa fa-play"){
          document.getElementById('faCode').value = 2;
        }
        else if (headingIcon == "fa fa-eye"){
          document.getElementById('faCode').value = 3;
        }

        //set video width
        if ($(retrieveCode).find('#vidwidth33')){
          document.getElementById('videoWidth').value = 33;
        }
        else if ($(retrieveCode).find('#vidwidth50')){
          document.getElementById('videoWidth').value = 50;
        }

    }

    function copyCode(){
      SelectAll("txtarearespVid");
    }

    function SelectAll(id){
        document.getElementById(id).focus();
        document.getElementById(id).select();
        document.execCommand("copy");
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("showPopup");
      
        //window.alert('test');
    }
 

    function submitform()
    {
        document.forms["myform"].submit();
    }
    $(function () {
  $('[data-toggle="tooltip"]').tooltip()
})


    /* Variable Key
    These variables are pre-defined html that is added to inputs from users before and after to generate the final html product for copying and pasting.

    respVid = responsive Video Right (context left/video right)

    */
   
		/*These different options have been absorbed into a javascript Object allowing a direct mapping and lookup of code to icon name*/
		
    </script>
    <script>   
      window.onload=function(){
        $('#beestNav').load('common/beestnav.html');
        $('#beestFooter').load('common/beestfooter.html');
        generateCode();
        function activeNav() {
          var pgurl = window.location.href.substr(window.location.href.lastIndexOf("/")+1);
           $(".nav-link").each(function(){
                if($(this).attr("href") == pgurl || $(this).attr("href") == '' )
                $(this).addClass("active");
                $(this).append('<span class="sr-only">(current)</span>')
           });
      }
      
      setTimeout(function() {
          activeNav();
      }, 100);
    };
    </script>
       <style>
        .mce-notification-inner, .mce-close, .mce-notification-warning {
        display:none !important;
        }

        /* Popup container - can be anything you want */
    #popup {
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    }

    /* The actual popup */
    #popup .popuptext {
    visibility: hidden;
    width: 220px;
    background-color: #222222;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 10px 5px;
    position: absolute;
    z-index: 1;
    bottom:100%;
    left: 50%;
    margin-left: -110px;
    }

    /* Popup arrow */
    #popup .popuptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
    }

    /* Toggle this class - hide and show the popup */
    #popup .showPopup {
    -webkit-animation: fadeinout 4s linear forwards;
    animation: fadeinout 4s linear forwards;
    visibility: visible;
    }
  
    /* Add animation (fade in the popup) */
@-webkit-keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

@keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}
.tooltip-inner {
  text-align: left;
  padding: 15px;
  font-size: 1.05rem;
  max-width: 480px;
}
    </style> 
    </head>
<body>
  <div id="beestNav"></div>
  <div class="row w-100 mb-5"></div>
  <div class="row w-100 mb-4"></div>
<div class="container-fluid">
  <div class="w-100 mx-auto alert alert-arts alert-dismissible fade show rounded" role="alert">
    <div class="h6"><i class="fa fa-fw fa-3x fa-pull-left fa-exclamation-circle"></i>You can only generate the code for one element at a time on this page. When you paste the link for your video (Panopto/Vimeo/Youtube/TED) that box will become read only. This means you cannot delete or edit the link in the box. If you need more elements, copy and paste each element into Moodle, refresh the page and create your next element. If you make an error you will need to refresh the page and start again.</div>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">Ã—</span> </button>
    </div>
<h1 class="text-center"><i class="fa fa-video-camera"></i> Responsive video + context</h1>
<h5 class="text-center"><a class="hideableinstruct" data-toggle="modal" data-target=".respVidWalkthrough" href="">Create a responsive video walkthrough (5:55)</a></h5>
  <div class="modal fade respVidWalkthrough" tabindex="-1" role="dialog" aria-labelledby="panopto-modal" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content p-2 bg-dark">
      <div class="modal-header">
        <h5 class="modal-title text-white" id="exampleModalLabel">Click close or click outside this box to return to the BEEST.</h5>
        <button type="button" class="btn btn-outline-light btn-lg ml-2" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">Close &times;</span>
        </button>
      </div>
    <div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen" src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=cef099bc-a7e9-4211-be3c-ac3e005c0924"></iframe></div>
    </div>
  </div>
</div>
  <div class="row w-50 mx-auto text-center mt-3">
    <div class="col-lg">
          <a data-toggle="tooltip" data-placement="bottom" data-trigger="hover focus" title="Click this button to clear the page and start again." href="javascript:window.location.reload()" class="btn btn-mu btn-lg" role="button">Clear the page <i class="fa fa-fw fa-refresh"></i></a>
        </div>
        <div class="col-lg">
          <button data-toggle="tooltip" data-placement="bottom" data-trigger="hover focus" title="Click this button to toggle the help instructions on the page on/off. Only do this if you are completely familiar with how to use the page" onclick="flipTooltip()" class="btn btn-mu btn-lg">Turn <span class="onoffswapinstr">off</span> help <i class="fa fa-fw fa-power-off"></i></a>
        </div></div>
        <hr class="hr2">
<form id="respVid">  
  <div class="row w-100 mb-3 mx-auto">
    <div class="col-lg-6 mt-2">
      <div>
        <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Paste in the link/URL (not the embed code) for your video.">Step 0 - Copy generated code from Moodle <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
        <textarea class="rounded p-2 w-100 mt-2" rows="2" name="retrieveCode" type="text" id="retrieveCode" placeholder="Copy the generated code from Moodle and paste it here" onchange=recoverCode()></textarea>

        <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Paste in the link/URL (not the embed code) for your video.">Step 1 - Link <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
        <div class="hideableinstruct"><strong>Which video link do you need?</strong> Walkthroughs (30 secs approx.) - <a data-toggle="modal" data-target=".panopto-modal" href="">Panopto</a>
          <div class="modal fade panopto-modal" tabindex="-1" role="dialog" aria-labelledby="panopto-modal" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content p-2 bg-dark">
              <div class="modal-header">
                <h5 class="modal-title text-white" id="exampleModalLabel">Click close or click outside this box to return to the BEEST.</h5>
                <button type="button" class="btn btn-outline-light btn-lg ml-2" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">Close &times;</span>
                </button>
              </div>
            <div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen" src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=b84fa926-7531-4321-8f0b-ac2c0000d69d"></iframe></div>
            </div>
          </div>
        </div> | <a data-toggle="modal" data-target=".youtube-modal" href="">YouTube</a>
        <div class="modal fade youtube-modal" tabindex="-1" role="dialog" aria-labelledby="youtube-modal" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content p-2 bg-dark">
              <div class="modal-header">
                <h5 class="modal-title text-white" id="exampleModalLabel">Click close or click outside this box to return to the BEEST.</h5>
                <button type="button" class="btn btn-outline-light btn-lg ml-2" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">Close &times;</span>
                </button>
              </div>
            <div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen" src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=98282461-8b14-48fb-a4d2-ac2c0000d672"></iframe></div>
            </div>
          </div>
        </div> | <a data-toggle="modal" data-target=".ted-modal" href="">TED Talks</a>
        <div class="modal fade ted-modal" tabindex="-1" role="dialog" aria-labelledby="ted-modal" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content p-2 bg-dark">
              <div class="modal-header">
                <h5 class="modal-title text-white" id="exampleModalLabel">Click close or click outside this box to return to the BEEST.</h5>
                <button type="button" class="btn btn-outline-light btn-lg ml-2" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">Close &times;</span>
                </button>
              </div>
            <div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen" src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=d27cc54b-dd5e-4436-b862-ac2c0000d623"></iframe></div>
            </div>
          </div>
        </div> | <a data-toggle="modal" data-target=".vimeo-modal" href="">Vimeo</a>
        <div class="modal fade vimeo-modal" tabindex="-1" role="dialog" aria-labelledby="vimeo-modal" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content p-2 bg-dark">
              <div class="modal-header">
                <h5 class="modal-title text-white" id="exampleModalLabel">Click close or click outside this box to return to the BEEST.</h5>
                <button type="button" class="btn btn-outline-light btn-lg ml-2" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">Close &times;</span>
                </button>
              </div>
            <div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen" src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=a55274ab-2219-40ec-8c85-ac2c0000d64d"></iframe></div>
            </div>
          </div>
        </div> </div>
            <textarea class="rounded p-2 w-100 mt-2" rows="1" name="respVidSwitch" type="text" id="respVidSwitch" placeholder="Paste the Youtube/Panopto/Vimeo/TED Talks video link here" onchange=generateCode()></textarea>
        <h5 class="mt-2 w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="It's recommended to have a few sentences or dot points explaining what is in the video students are about to watch. This helps in particular when students are reviewing material for assessment.">Step 2 - Context <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
            <textarea id="tinyMCEvideo" class="border border-dark rounded p-2 w-100" cols="70" rows="3" name="respVid_context" onchange=generateCode()></textarea>
      </div>
        <div class="row w-100">
          <div class="col-lg mt-2 pr-0">
          <h5 class="mt-2" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Choose which side of screen you would prefer the video to appear by clicking on one of the options below. Video on the right is selected by default.">Step 3 - Position <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
              <select class="custom-select w-100 border border-dark" id="videoPosition" name="videoPosition" size="1" onchange=generateCode()>
                <option value="right" selected>Video on the right</option>
                <option value="left">Video on the left</option>
              </select>
          </div>
          <div class="col-lg mt-2 pr-0">
          <h5 class="mt-2" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Choose whether you want the video to be 50% (1/2) of the screen width or 33.3% (1/3) of the screen width.">Step 4 - Width <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
              <select class="custom-select w-100 border border-dark" id="videoWidth" name="videoWidth" size="1" onchange=generateCode()>
                  <option value="50" selected>50% (1/2)</option>
                  <option value="33">33.3% (1/3)</option>
              </select>
          </div>
        </div> 
        <div class="w-100 mt-3">
        <h5 class="w-50" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Type a heading for this video. 75 character maximum. This will site above the video and context. If you want an icon to display you must also type a heading.">Step 5 - Heading (optional) <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
            <textarea maxlength="75" class="rounded p-2 w-100" rows="1" name="respVid_heading" type="text" id="respVidHeading" placeholder="Type your video heading here" onchange=generateCode()></textarea>
        </div>
      <div class="row w-100">
      <div class="col-lg mt-2 pr-0">
      <h5 class="w-100" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Choose the size of your heading.">Step 6 - Heading size (optional) <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
            <select class="custom-select w-100 border border-dark" id="headSize" name="headSize" size="1" onchange=generateCode()>
            <option selected value="h5">Small (heading 5)</option>
            <option value="h4">Medium (heading 4)</option>
            <option value="h3">Large (heading 3)</option>
          </select>
          </div>    

          <div class="col-lg mt-2 pr-0">
            <h5 class="w-100" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Choose an icon to go with your heading. If you choose an icon without typing a heading, it will not display">Step 7 - Heading icon (optional) <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
            <select class="custom-select w-100 border border-dark" id="faCode" name="faCode" size="1" onchange=generateCode()>
              <option selected value="noI">No icon</option>
                <option value="1">Video Camera</option>
                <option value="2">Play</option>
                <option value="3">Eye</option>
              </select>
            </div>
          </div>
              </div>   
              <div class="col-lg-6 mt-2">
                <h5 data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="A preview of your element will appear below as you update steps 1-7.">Preview <span class="hideableinstruct text-success font-weight-bold">| Help</span></h5>
              <div id="demo" class="mt-2">    
              </div>
              <div class="mt-2">
                <h5 class="w-100 mt-5" data-toggle="tooltip" data-placement="right" data-trigger="focus hover" title="Click this button to copy the code for your element ready for pasting in Moodle. A preview of the element will appear under Preview as you update your preferences for the element.">Step 8: Copy code <span class="hideableinstruct text-success font-weight-bold">| Help</span> <span class="hideableinstruct"></h5></span>   
                     <input data-toggle="tooltip" data-placement="bottom" data-trigger="click" title="Your code has been copied" type="button" class="btn btn-mu btn-lg m-1" id="copyCodeBtn" name="GenerateWrap" value="Copy your code </>" onClick=copyCode() >
                        <span class="hideableinstruct"><a data-toggle="modal" data-target=".html-paste-modal" href="">How to paste this into Moodle</a>
                  <div class="modal fade html-paste-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content p-2 bg-dark">
                        <div class="modal-header">
                          <h5 class="modal-title text-white" id="exampleModalLabel">Click close or click outside this box to return to the BEEST.</h5>
                          <button type="button" class="btn btn-outline-light btn-lg ml-2" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">Close &times;</span>
                          </button>
                        </div>
                      <div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen" src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=d1c0ffaa-23a4-4d38-bb49-abda00b7805a"></iframe></div>
                      </div>
                    </div>
                  </div></span>
                          <!--<input type="button" class="btn btn-arts m-1" name="GenerateWrap" value="Display in Moodle" onClick=writeinMoodle() ></p>-->
                         
                        <textarea readonly class="rounded p-2 w-100 mt-2" id="txtarearespVid" cols="70" rows="6" name="Result" placeholder="Code for your element will appear here"></textarea>  
                </div>
            </div>
          </div>  
      </form>
                    <p class="my-3"></p>
                  </div>
         <script>
        $('#respVidSwitch').on('input', function(event) {
        var s = $('#respVidSwitch').val().toString();
        
        if (s.includes("vimeo.com") == true) {
        //code for converting Vimeo link from Viewer to Embed
        var x = s.replace('https://vimeo.com/','https://player.vimeo.com/video/');
        }
        else if (s.includes("youtube.com") == true) {
        //code for converting Youtube link from Viewer to Embed
        var x = s.replace('watch?v=','embed/').replace('&start','?start');
        }
        else if (s.includes("youtu.be") == true) {
        var x = s.replace('youtu.be','www.youtube.com/embed').replace('t=','start=');
        }
        //code for converting Panopto link from Viewer to Embed
        else if (s.includes("monash-panopto") == true) {
          var x = s.replace('Viewer','Embed');
        }
        //code for converting TED Talks link from Viewer to Embed
        else if (s.includes("ted.com") == true) {
          var x = s.replace('www.ted.com','embed.ted.com');
        }
        $('#respVidSwitch').val(x);
        
        document.getElementById('vid').src = x;
        var videopreview = document.getElementById('videopreview');

        var videoPreviewText = document.getElementById('videoPreviewText');

        if (s !== ""){
          videopreview.style.display = "block";
          videoPreviewText.style.display = "block";
        }
        else{
          videopreview.style.display = "none";
          videoPreviewText.style.display = "none";          
        }

        //$('input[type="text"], textarea#respVidSwitch').attr('readonly','readonly');
      }); 
      var textarea = $('#respVidHeading');
      var select = $('#headSize');
      var addOrRemoveRequiredAttribute = function () {
      if (textarea.val().length) {
        select.val("h5")
      }
};

// Run now
addOrRemoveRequiredAttribute();

// And when textarea changes
textarea.on('change', addOrRemoveRequiredAttribute);
      </script>
<script>
$(function () {
  $(document).on('shown.bs.tooltip', function (e) {
     setTimeout(function () {
       $(e.target).tooltip('hide');
     }, 10000);
  });
});</script>
<script>
  $(function () {
    $('#copyCodeBtn').on('shown.bs.tooltip', function (e) {
       setTimeout(function () {
         $(e.target).tooltip('hide');
       }, 2000);
    });
  });</script>
        <div id="beestFooter"></div>
        </body>
        </html>