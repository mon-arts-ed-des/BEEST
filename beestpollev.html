<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A simple element creator to generate responsive code that can be easily embbedded into Moodle">
    <meta name="author" content="T&M">
    <title>Element Creator</title>

    <!-- external link to css file --> 
    <!-- Bootstrap CSS -->   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Arts CSS -->  
    <link rel="stylesheet" href="https://mon-arts-ed-des.github.io/artsmoodlecode/adminPlusSetuBlockStyle.css" />
    
    <!-- external link to js file -->  
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!-- Bootstrap js file --> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- FontAwesome js file --> 
    <script src="https://kit.fontawesome.com/3817feae52.js"></script> 
    <!-- Tinymce js file -->   
    <script src='https://cloud.tinymce.com/stable/tinymce.min.js'></script>

    <script type="text/javascript">
   tinymce.init({
        selector: '#tinyMCEpollEv',
        menubar: false,
          plugins : 'advlist autolink link lists charmap print preview' 
      });
    function generatePollEvCode() {
         console.debug(tinyMCE.activeEditor.getContent());

        //Retrieve the content by id of the tinyMCE textarea
    var contextCode = tinyMCE.get('tinyMCEpollEv').getContent();
        //Retrieve the content by id of the textareas
    var pollEv_URL = document.getElementById('pollEv_URL').value;
        var textOutputPollEv = contextCode+pollEv_1+pollEv_URL+pollEv_2;
        document.getElementById('txtareapollEv').innerHTML=textOutputPollEv;
        SelectAll("txtareapollEv");
        }

    function SelectAll(id){
        document.getElementById(id).focus();
        document.getElementById(id).select();
        document.execCommand("copy");

        var popup = document.getElementById("myPopup");
        popup.classList.toggle("showPopup");
        //window.alert('test');
    }

    function submitform()
    {
        document.forms["myform"].submit();
    }
    /* Variable Key
    These variables are pre-defined html that is added to inputs from users before and after to generate the final html product for copying and pasting.

    btnNW = btn open in new window
    btnSW = btn open in same window
    respPVR = responsive Panopto Video Right (context left/video right)
    respPVL = responsive Panopto Video Left (video left/context right)
    artsAlert = Monash blue box alert similar to Bootstrap alert component
    artsAcc = Monash blue accordion headings and content
    */
    var pollEv_1="<iframe src=\""
    var pollEv_2="\" width=\"100%\" height=\"600\" frameBorder=\"0\"></iframe>"
       var btnNW_3=" <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></a></p>"

    var btnSW_1="<p class=\"text-center mb-0\"><a class=\"btn btn-arts m-2\" href=\""
    var btnSW_2="\">"
    var btnSW_3=" <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i></a></p>"
    </script>
      <style>
        .mce-notification-inner, .mce-close, .mce-notification-warning {
        display:none !important;
        }

        /* Popup container - can be anything you want */
    #popup {
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    }

    /* The actual popup */
    #popup .popuptext {
    visibility: hidden;
    width: 220px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 10px 5px;
    position: absolute;
    z-index: 1;
    bottom:100%;
    left: 50%;
    margin-left: -110px;
    }

    /* Popup arrow */
    #popup .popuptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #555 transparent transparent transparent;
    }

    /* Toggle this class - hide and show the popup */
    #popup .showPopup {
    -webkit-animation: fadeinout 4s linear forwards;
    animation: fadeinout 4s linear forwards;
    visibility: visible;
    }
  
    /* Add animation (fade in the popup) */
@-webkit-keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

@keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

    </style>  
    </head>
    <body>
        <nav class="d-none navbar navbar-expand-lg navbar-dark bg-arts mb-3">
  <a class="navbar-brand" href="#">BEEST</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="https://web.edusercontent.com/37rr142h0egk1dv4g41rultpro/beesthome.html">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://web.edusercontent.com/4933n8d4mjts04ojtr7g7jbin4/beestbuttons.html">Buttons</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://web.edusercontent.com/4933n8d4mjts04ojtr7g7jbin4/beestalerts.html">Alerts
        </a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Responsive video
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" href="https://web.edusercontent.com/37rr142h0egk1dv4g41rultpro/beestpanopto.html">Panopto</a>
          <a class="dropdown-item" href="https://web.edusercontent.com/37rr142h0egk1dv4g41rultpro/beestyoutube.html">Youtube</a>
          <a class="dropdown-item" href="https://web.edusercontent.com/37rr142h0egk1dv4g41rultpro/beestvimeo.html">Vimeo</a>
        </div>
      </li>
    </ul>
  </div>
</nav>
        <div class="container-fluid">
        <div class="alert alert-arts h5">Important: You can only generate the code for one element at a time on this page. If you need more elements, copy and paste each element into Moodle, return to this page and create your next element. Watch the video below for a walkthrough of how to use the page effectively.</div>
        <h3 class="text-center">Poll everywhere embed shareable response link</h3>
        <p>This process will generate a the embed code to embed your poll everywhere poll in Moodle.</p>
            <hr>
            <h3><i class="fa fa-flag-checkered"></i> The result</h3>
            <p>The end result will be similar to the below example (your poll will be different).</p>
                <p>Click the button below to toggle an example of the button that links to lms.monash.edu.</p>
                <hr>
            <div class="collapse" id="readMore1">
                <p>Write your response to the poll question below. The results will be displayed for you to view the group's responses later in the lesson.</p>
        <iframe src="https://PollEv.com/free_text_polls/Lr1kAqRMftAK2kig5rlM8/respond" width="100%" height="600" frameBorder="0"></iframe>
            </div>
            <!--Form for new window button starts here-->
            <!--Form for new window button starts here-->
            <!--Form for new window button starts here-->
     <div><a class="btn btn-arts btn-block w-50 mx-auto" data-toggle="collapse" href="#readMore1" role="button" aria-expanded="false" aria-controls="collapseExample">Show/Hide the result</a></div>
         <hr>
           <form id="pollEv">     
        <div class="row w-100 mx-auto">
        <div class="col-lg">
            <h5>Write the context for the poll</h5>
            <p>Writing some instructions, or context for students on your poll will help the students to respond correctly. Write your context in the space below.</p>
            <textarea class="mb-3 rounded p-2 w-100" cols="70" rows="1" name="pollEv_text" id="tinyMCEpollEv" placeholder="Write/paste the text for the button here"></textarea></div></div>
            <hr>
             <div class="row w-100 mx-auto mt-3">
        <div class="col-lg">
            <h5>Paste your shareable response link</h5>
            <p>Paste your poll everywhere shareable link in the space below. This can be found by:</p>
            <ol>
                <li>going to <a href="https://polleverywhere.com" target="_blank">Poll Everywhere</a></li>
                <li>logging in to the platform</li>
                <li>click on the title of the poll you want to embed</li>
                <li>click on <strong>3. Present</strong> in the top right corner</li>
                <li>click the small chain symbol near <strong>Shareable response link</strong> to copy the response link</li>
                </ol>
            </div>
            <div class="col-lg">
            <p class="text-center"><textarea class="rounded p-2 w-100" rows="1" name="pollEv_URL" id="pollEv_URL" placeholder="Write/paste the Shareable response link here"></textarea></p>
            </div>
            </div>
            <div class="text-center"><p id="popup"> <span class="popuptext" id="myPopup">Your code has been copied</span> <input type="button" class="m-2 btn btn-arts" name="copyCode" value="Click to generate and copy code" onClick=generatePollEvCode()></input></div>
                  <p class="text-center">
                <textarea readonly class="rounded p-2 w-100" id="txtareapollEv" cols="70" rows="3" name="Result" placeholder="The code for your button will be generated here. Click the button below to copy the code. Then paste the code in Moodle using the HTML editor."></textarea></p>
        <script>//code for converting Youtube link from Viewer to Embed
        $('#pollEv_URL').on('input', function(event) {
        
        $('input[type="text"], textarea').attr('readonly','readonly');
      }); 
      </script>
        </form>
        </body>
        </html>
