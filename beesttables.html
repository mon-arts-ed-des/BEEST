<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A simple element creator to generate responsive code that can be easily embedded into Moodle">
    <meta name="author" content="T&M">
    <title>BEEST Tables</title>
     <link rel="icon" href="https://mon-arts-ed-des.github.io/BEEST/dragon-solid%20favicon.png" type="image/gif">

    <!-- external link to css file --> 
    <!-- Bootstrap CSS -->   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <!-- Arts CSS -->  
    <link rel="stylesheet" href="https://mon-arts-ed-des.github.io/artsmoodlecode/adminPlusSetuBlockStyle.css" />
    <link rel="stylesheet" href="https://mon-arts-ed-des.github.io/artsmoodlecode/monTabs.css" />
    <!-- external link to js file -->  
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  
    <!-- Bootstrap js file --> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- FontAwesome js file --> 
    <script src="https://kit.fontawesome.com/3817feae52.js"></script> 
    <!-- Tinymce js file -->   
    <script src='https://cloud.tinymce.com/stable/tinymce.min.js'></script>
    <script src="advancedModeLocalStorage.js"></script>
    <!--
<h3>[fa-list-ol] Assessment summary</h3>
<table class="table table-hover table-striped table-responsive-lg border border-dark">
  <thead class="thead-dark h5">
    <tr>
      <th scope="col">Number</th>
      <th scope="col">Type</th>
      <th scope="col">Value</th>
      <th scope="col">Due</th>
      <th scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
      <td>Reflective essay</td>
      <td>20%</td>
      <td>Week 3 Friday</td>
      <td>This is a short reflective essay where you are to give your thoughts on how the readings from the first 2 weeks have effected your opinion on the topics.</td>
    </tr>
    <tr>
      <th scope="row">2</th>
      <td>Quiz</td>
      <td>15%</td>
      <td>Week 5 Friday</td>
      <td>This quiz will contain 15 questions that will test your knowledge of week 3 and 4.</td>
    </tr>
    <tr>
      <th scope="row">3</th>
      <td>Presentation</td>
      <td>30%</td>
      <td>Dates across week 8</td>
      <td>You will be tasked with creating and delivering a 5 minute presentation based on a topic from the given list in the extended description on this page.</td>
    </tr>
  </tbody>
</table>

    -->

    <script type="text/javascript">
  /*
	const maxTabs = 10 //when to stop creating - I think min 3 max 10 like accordions is the best for consistency.
	const requiredInitialTabs = 3; //the default number of tabs to start with
	const TINYMCE_ID_BASE = "tinyMCEmonTabContent"
	const HEADING_ID_BASE = "monAccTabHeadingTxt"
	const INNER_HEADING_ID_BASE = "monTabContent"
	const OUTER_BLOCK_ID_BASE = "outerblock"
	const DO_NOT_USE = "DO_NOT_USE"
	const COUNTER_ID="tabCounter"
	const absoluteMinTab = 3;
	*/
	var rowsWithData = 3
	var colsWithData = 3
	var currRow = 3
	var currCol = 3
	
	const absoluteMaxRow = 10;
	const absoluteMaxCol = 10;
	const tableBody = "TABLE_BODY"
	const baseRowID = "ROW"
	const baseCellID = "CELL" //format for a cell is baseCellID+row+"-"+col
	
	var editableTableHTML = [[]]
	
	var tableContents = [
		[]
	] //empty 2d array
	
	$(document).ready(function() { 
			wipeHTML("editTable")
			generateEditableTable("editTable",currRow,currCol)
	})
	
		function wipeHTML(idToWipe){
			document.getElementById(idToWipe).innerHTML = ""
		}
	
		function newEditTableRow(rowN,maxCols){
			var theRow = []
			
			for (var colN=0;colN<maxCols;colN++){
				if (theRow.length<=colN){
					theRow.push("")
				}
				placeholder = "Input your row contents"
				if (rowN==0){
					placeholder = "Input your table heading"
				}
				else if (colN==0){
					placeholder = "Input your bolded row contents"
				}
				theRow[colN] = newTextField(placeholder,baseCellID+rowN+"-"+colN)
			}
			return theRow
		}
	
		function generateEditableTable(idToPlaceIn,maxRows,maxCols){
			/*create the editable table on the page to write into*/
			var placeholder="";
			for (var rowN=0;rowN<maxRows;rowN++){
				if (editableTableHTML.length<=rowN){
					editableTableHTML.push([])
				}
				for (var colN=0;colN<maxCols;colN++){
					editableTableHTML[rowN] = newEditTableRow(rowN,maxCols)
				}
			}
			var tableHTML = newTableCode(editableTableHTML)
			document.getElementById(idToPlaceIn).innerHTML = tableHTML
		}
	
		function newTextField(placeholder,id){
			return "<textarea id=\""+id+"\" placeholder=\""+placeholder+"\" class=\"border border-dark rounded p-2 w-100\" cols=\"70\" rows=\"1\" name=\""+id+"\"></textarea>"
		}
	
		function newCellCode(rowNum,colNum,contents){
			var cellCode = ""
			if (rowNum==0){
				cellCode = "<th scope=\"col\">"+contents+"</th>"
			}
			else if (colNum==0){
				cellCode = "<th scope=\"row\">"+contents+"</th>"
			}
			else{
				cellCode = "<td>"+contents+"</td>"
			}
			return cellCode
		}
		
		function newRowCode(rowNum,contentsArray){
		/*
		length of contents array must match column count for the row
		*/
			var rowCode = "<tr id=\""+baseRowID+rowNum+"\">"
			var thisCell;
			var cellContent;
			
			for (var colN = 0; colN < contentsArray.length; colN++){
				cellContent = contentsArray[colN]
				thisCell = newCellCode(rowNum,colN,cellContent)
				rowCode += thisCell
			}
			rowCode += "</tr>"
			
			return rowCode
		}
		
		function newTableCode(contentsArray){
		/*
		format should be [[r0c0,r0c1,r0c2,...],[r1c0,r1c1,c1c2,...],...]
		*/
			var tableCode = "<table class=\"table table-hover table-striped table-responsive-lg border border-dark\">"

			for (var rowN=0;rowN<contentsArray.length;rowN++){
				switch(rowN){
					case 0:
						tableCode += "<thead class=\"thead-dark h5\">"
						break;
					case 1:
						tableCode += "</thead><tbody id=\""+tableBody+"\">"
						break;
				}

				tableCode += newRowCode(rowN,contentsArray[rowN])
				
			}
			
			tableCode += "</tbody></table>"
			
			return tableCode
		}
		
		function getCellContents(row,col){
			return getCell(row,col).value
		}
		function getCell(row,col){
			return document.getElementById(baseCellID+row+"-"+col)
		}
		
		function removeRow(){
			//will remove the nth row from the page (and generated code) where n = currRow global value
			if (currRow > 1){
				currRow -= 1; //so now this row won't be included in generated code
				
				hideHTML(baseRowID+currRow) //row disappears in html page
				
				if (currRow == 1){
					hideButton("minusbutton")
				}
				if (currRow < absoluteMaxRow){
					showButton("plusbutton")
				}
			}
			else{
				alert("cannot delete only remaining row")
			}
		}
		
		function addRow(){
			if (currRow < absoluteMaxRow){
				if (currRow < rowsWithData){
					showHTML(baseRowID+currRow)
				}
				else{
					//if no row yet exists
					
					//is there a body?
					tableBodyTag = document.getElementById(tableBody)
					if (tableBodyTag!=null){
						var rowContents = newEditTableRow(currRow,currCol)
						var theRow = newRowCode(currRow,rowContents)
						tableBodyTag.innerHTML+=theRow
						rowsWithData++
					}
					else{
						//is there only a head?
						alert("no table body found to add to -- please click the feedback/improvements/issues button and let us know what happened")
					}
				}
				currRow++
				if (currRow == absoluteMaxRow){
					hideButton("plusbutton")
				}
				if (currRow > 1){
					showButton("minusbutton")
				}
			}
			else{
				alert("too many rows -- consider the amount of information you are displaying")
			}
		
		}
		
		function addCol(){
			if (currCol < absoluteMaxCol){
				if (currCol < colsWithData){
					showColHTML(currRow,currCol)
				}
				else{
					//if no col yet exists
					
					//get all **existing** rows
					var rowList = []
					var thisRow = null;
					for (var rNum=0; rNum < rowsWithData; rNum++){
						thisRow = document.getElementById(baseRowID+rNum)
						if (thisRow!=null){ //if we found the row...
							rowList.push(thisRow) //add to a list of row objects from page
						}
					}
					if (rowList.length>0)
					{
						//now make the cols on the page
						addColToRowsHTML(rowList,currCol)
						colsWithData++
					}
					else{
						alert("no rows found to add to -- please click the feedback/improvements/issues button and let us know what happened")
					}
									
				}
				currCol++
				if (currCol == absoluteMaxCol){
					hideButton("pluscolbutton")
				}
				if (currCol > 1){
					showButton("minuscolbutton")
				}
			}
			else{
				alert("too many cols -- consider the amount of information you are displaying")
			}
		}
		
		function addColToRowsHTML(rowsList,colNum){
			var placeholder;
			var newColContent;
			for (var rNum=0;rNum < rowsList.length; rNum++){
				placeholder = "Input your row contents"
				if (rNum==0){placeholder = "Input your table heading"}
				newColContent = newTextField(placeholder,baseCellID+rNum+"-"+colNum)
				rowsList[rNum].innerHTML += newCellCode(rNum,colNum,newColContent)
			}
		}
		
		function showColHTML(maxRows,colNumber){
			for (var rNum=0;rNum < maxRows; rNum++){
				showHTML(baseCellID+rNum+"-"+colNumber)
			}
		}
		
		function hideColHTML(maxRows,colNumber){
			for (var rNum=0;rNum < maxRows; rNum++){
				hideHTML(baseCellID+rNum+"-"+colNumber)
			}
		}
		
		function removeCol(){
			if (currCol > 1){
				currCol -= 1
				
				hideColHTML(currRow,currCol)
				
				if (currCol == 1){
					hideButton("minuscolbutton")
				}
				if (currCol < absoluteMaxRow){
					showButton("pluscolbutton")
				}
			}
			else{
				alert("cannot delete only remaining column")
			}
		}
		
		
	function hideHTML(id){htmlStyle(id,"display","none")}
	function showHTML(id){htmlStyle(id,"display","")}
	function htmlStyle(id,styleName,styleResult){
		document.getElementById(id).style[styleName]=styleResult
	}
	function hideButton(id){
		document.getElementById(id).disabled = true
		hideHTML(id)
	}
	function showButton(id){
		document.getElementById(id).disabled = false
		showHTML(id)
	}
	
	function getTableContentsFromPage(maxRow,maxCol){
		var the_table = [[]]
		for (var rowN=0;rowN<maxRow;rowN++){
			if (the_table.length<=rowN){
				the_table.push([])
			}
			for (var colN=0;colN<maxCol;colN++){
				if (the_table[rowN].length<=colN){
					the_table[rowN].push("")
				}
				the_table[rowN][colN] = getCellContents(rowN,colN)
			}
		}
		return the_table
	}
			
    function generateTableCode() {
	  
		tableContents = getTableContentsFromPage(currRow,currCol)
	  
		var textOutputTable = newTableCode(tableContents)
	  
        document.getElementById('txtareaBtn').innerHTML=textOutputTable;
        SelectAll("txtareaBtn");
        document.getElementById('demo').innerHTML = textOutputTable;
     
      }
        
    function SelectAll(id){
        document.getElementById(id).focus();
        document.getElementById(id).select();
        document.execCommand("copy");
        //window.alert('test');
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("showPopup");
    }

    function submitform()
    {
        document.forms["myform"].submit();
    }
    $(function () {
  $('[data-toggle="tooltip"]').tooltip()
})

    /* Variable Key
    These variables are pre-defined html that is added to inputs from users before and after to generate the final html product for copying and pasting.

    btnNW = btn open in new window
    btnSW = btn open in same window
  
    */
    </script>
    <style>
    .mce-notification-inner, .mce-close, .mce-notification-warning {
        display:none !important;
        }

        /* Popup container - can be anything you want */
    #popup {
    position: relative;
    display: inline-block;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    }

    /* The actual popup */
    #popup .popuptext {
    visibility: hidden;
    width: 160px;
    background-color: #222222;
    color: #fff;
    text-align: left;
    border-radius: 6px;
    padding: 12px;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -80px;
    }

    /* Popup arrow */
    #popup .popuptext::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #222222 transparent transparent transparent;
    }

    /* Toggle this class - hide and show the popup */
    #popup .showPopup {
    -webkit-animation: fadeinout 3s linear  forwards;
    animation: fadeinout 3s linear forwards;
    visibility: visible;
    }

    /* Add animation (fade in the popup) */
@-webkit-keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

@keyframes fadeinout {
  0%,100% { opacity: 0; }
  10% {opacity: 1;}
  66% { opacity: 1; }
}

.tooltip-inner {
  text-align: left;
  padding: 15px;
  font-size: 1.05rem;
  max-width: 280px;
}
    </style> 
    </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-arts mb-3">
      <a class="navbar-brand text-center border border-white p-2 rounded" href="index.html"><img src="dragon-solid-white.png" width="30" height="30" alt=""></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="beestvideo.html">Responsive Video</a>
          </li>
          <li class="nav-item">
          <a class="nav-link" href="beestbuttons.html">Button</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="beestalerts.html">Alert</a>
          </li>
             <li class="nav-item">
            <a class="nav-link" href="beestpollev.html">Poll Everywhere</a>
          </li>
             <li class="nav-item">
            <a class="nav-link" href="beestreadmore.html">Read More Button</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="beestacc.html">Accordion</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="beesttabbed.html">Tabbed Content <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="beestquote.html">Quote</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://docs.google.com/forms/d/e/1FAIpQLSeojgdmy3o6gUq1ZzuV3Q2YflUDfxH4TKKzz5lbpTJLmLOm5w/viewform?usp=sf_link" target="_blank">Feedback</a>
          </li>
        </ul>
      </div>
    </nav>
      <div class="container-fluid">
        <div class="w-100 mx-auto alert alert-arts alert-dismissible fade show rounded" role="alert">
          <i class="fa fa-fw fa-2x fa-pull-left fa-exclamation-circle my-auto"></i><div class="h6 mb-0">You can only have one accordion on a page because of the way the HTML works. Please make sure you only produce, copy and paste one accordion per Moodle page maximum. If you try to put two accordions on a page, neither will work correctly.</div>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
          </div>   
<h1 class="text-center"><i class="fa fa-table fa-fw"></i> Tables</h1>
<span class="hideableinstruct">  
<h5>The result of this process</h5>
<p>This process will generate a <span class="text-primary font-weight-bold" data-toggle="tooltip" data-placement="top" data-trigger="focus hover" title="Responsive design means web pages detect the user's screen size and orientation and change the layout accordingly. Therefore the elements here 'respond' to the user's device to work how that person expects them to work on that device.">responsive</span> table. These can be used in place of regular Moodle tables to ensure they respond well across devices, and look more refined than a basic table. Some of the suggested uses for these tables are:</p>
<p>
<ul>
  <li>Unit/Topic Schedule summary for your unit to briefly describe each week or topic's content and what will be covered, as well as indicate where assessment is due.</li>
  <li>Assessment summary to indicate to students what the assessments are, their value, due date and a brief description of the task.</li>
  <li>A schedule for a unit field trip or virtual field trip.</li>
</ul></p>
<h5>How to use this page</h5>
<p>If you hover your mouse over the headings for the steps on this page instructions will appear. Once you have generated and copied the code for your element paste them into Moodle using the HTML editor. These text editors differ slightly from the other BEEST pages. They allow you to input HTML. So if you want to embed a video or other external content, or even content from another BEEST page (video, alert, button) you can. If you are unsure of how to paste HTML into these text editors or Moodle, <a data-toggle="modal" data-target=".bd-example-modal-lg" href="">this short video will help</a> (it will open in an overlay on this screen).</p>
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content p-2">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">To close this window click the button on the right or anywhere outside this box.</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" frameborder="0" allowfullscreen="allowfullscreen" src="https://monash-panopto.aarnet.edu.au/Panopto/Pages/Embed.aspx?id=d1c0ffaa-23a4-4d38-bb49-abda00b7805a"></iframe></div>
    </div>
  </div>
</div>
<h5>Refresh this page if you make an error</h5>
<div class="row w-100">
  <div class="col-lg">
<p>Click this button to refresh this page if you make an error, or if you are making multiple elements and have already pasted your previous elements.</p></div>
<div class="col-lg-3"><div class="text-center">
  <a href="javascript:window.location.reload()" class="btn btn-mu">Refresh the page <i class="fa fa-fw fa-refresh"></i></a>
</div></div></div>
</span>
      <h5>Advanced mode - turn <span class="onoffswapinstr">off</span> instructions</h5>
      <div class="row w-100">
        <div class="col-lg">
      <p>Click this button to turn <span class="onoffswapinstr">off</span> the instructions that appear when you hover over the headings.<span class="hideableinstruct"> Only do this if you are completely familiar with how to use the tool.</span></p></div>
      <div class="col-lg-3"><div class="text-center">
        <button onclick="flipTooltip()" class="btn btn-mu">Turn <span class="onoffswapinstr">off</span> instructions <i class="fa fa-fw fa-power-off"></i></a>
      </div></div></div>
<hr class="hr-3">
<form id="monTabsForm">
  <h5 class="w-25" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Add headings for your table.">Step 1 - Add table contents</h5>
    
	
	<table class="table table-responsive-lg"><tbody>
	
	<tr><td>
	
		<div class="btn-group btn-group-justified" role="group" id="addMinusButtons">
		<div class="btn-group-lg" role="group">
		<button id="plusbutton" onclick="addRow()" type="button" class="btn btn-success mr-2">Row <i class="fa fa-fw fa-plus"></i></button>
		</div><div class="btn-group-lg" role="group">
		<button id="minusbutton" onclick="removeRow()" type="button" class="btn btn-danger">Row <i class="fa fa-fw fa-minus"></i></button>
		</div>
		</div>
	
	</td></tr>
	
	<tr><td>
		<span id="editTable">
		
		please wait for page to load

		</span>
	
	</td><td><div class="btn-group btn-group-justified" role="group" id="addMinusColButtons">
		<div class="btn-group-lg" role="group">
		<button id="pluscolbutton" onclick="addCol()" type="button" class="btn btn-success mr-2">Col <i class="fa fa-fw fa-plus"></i></button>
		</div><div class="btn-group-lg" role="group">
		<button id="minuscolbutton" onclick="removeCol()" type="button" class="btn btn-danger">Col <i class="fa fa-fw fa-minus"></i></button>
		</div>
		</div>
	</td></tr>
	
	
	</tbody></table>
	
<div class="row w-100 mx-auto">
        <div class="col-lg mt-3">
      <h5 class="w-25" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Click this button to generate and copy the code for your element ready for pasting in Moodle. A preview of the element will appear under Step 3.">Step 2 - Generate/copy code</h5>
      <div>
  <p id="popup"> <span class="popuptext" id="myPopup">Your code has been copied now</span><input type="button" class="btn btn-arts m-1 text-center" name="GenerateWrap" value="Generate and copy code" onClick=generateTableCode() ></p>
  </div>
  <p class="text-center"><textarea readonly class="rounded p-2 w-100" id="txtareaBtn" cols="70" rows="5" name="Result" placeholder="When you click the button above, it will create the code for your accordion and copy it to the clipboard."></textarea></p>
</div>
</div>
  <div class="row w-100 mx-auto mt-2 mb-3">
    <div class="col-lg">
      <h5 style="width:33.33%;" data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="A preview of your element will appear below when you click the generate code button in Step 3.">Step 3 - Preview</h5>
      </div>
      </div>
  </form>
	

  <div id="demo"></div>
  <span class="my-3"></span>
  <a data-toggle="tooltip" data-placement="right" data-trigger="hover focus" title="Opens in a new window." style="position:static; margin: 15px;" class="btn btn-lg btn-outline-success" href="https://docs.google.com/forms/d/e/1FAIpQLSeojgdmy3o6gUq1ZzuV3Q2YflUDfxH4TKKzz5lbpTJLmLOm5w/viewform?usp=sf_link" target="_blank">Feedback/Improvements/Issues <i class="fa fa-bullhorn"></i></a>
      </body>
      </html>
